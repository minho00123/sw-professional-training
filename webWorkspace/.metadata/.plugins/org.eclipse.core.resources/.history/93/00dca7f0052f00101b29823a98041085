package com.my.model;

import static org.junit.Assert.*;

import java.sql.SQLException;

import org.junit.After;
import org.junit.Before;
import org.junit.Test;

public class DeptDaoTest {
	// 3.x 네임규칙 - test메서드명
	// 4.x 자율 - annotation 이용
	DeptDao dao;

	@Before
	public void setUp() {
		System.out.println("setup");
		dao = new DeptDao();
	}
	
	@After
	public void tearDown() {
		System.out.println("down");
	}

	@Test
	public void testSelectAll() throws SQLException {
		System.out.println("selectAll");
		assertNotNull(dao.selectAll());
		assertNotSame(0, dao.selectAll().size());
//		assertTrue(dao.selectAll().size() > 0);
	}

	@Test
	public void testSelectOne() throws SQLException {
		System.out.println("selectOne");
		DeptDto target = new DeptDto(1111, "본사", "서울");
		DeptDto bean = dao.selectOne(target.getDeptno());
		assertNotNull(bean);
		assertEquals(target, bean);
	}
	
	@Test
	public void testInsertOne() throws SQLException {
		DeptDto target = new DeptDto(9999, "테스트", "강남");
		assertNotSame(0, dao.insertOne(target));
	}
	
	@Test
	public void testDeleteOne() throws SQLException {
		assertNotSame(0, dao.deleteOne(8888));
	}

	@Test
	public void testUpdateOne() throws SQLException {
		DeptDto target = new DeptDto(8888, "test1", "test2");
		assertNotSame(0, dao.updateOne(target));
	}
}
