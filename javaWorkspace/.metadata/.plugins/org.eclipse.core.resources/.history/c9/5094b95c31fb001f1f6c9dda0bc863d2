package com.pm;
import java.util.Scanner;

public class Ex07 {

	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		System.out.println("Q5.");
		System.out.println("--------------------------------------");
		System.out.println("가위 바위 보 게임(ver 0.1.0)");
		System.out.println("--------------------------------------");
		int operationNumber;
		int winCount = 0;
		int loseCount = 0;
		int drawCount = 0;

		do {
			System.out.print("가위(1),바위(2),보(3),종료(0)> ");
			operationNumber = sc.nextInt();
			
			switch (operationNumber) {
				case 1:
					int result = decideWinner(1);
					if (result == 0) {
						loseCount++;
						System.out.println("당신:가위    컴퓨터:바위");
						System.out.println("졌습니다.");
					} else if (result == 1) {
						drawCount++;
						System.out.println("당신:가위    컴퓨터:가위");
						System.out.println("비겼습니다.");
					} else if (result == 2) {
						winCount++;
						System.out.println("당신:가위    컴퓨터:보");
						System.out.println("이겼습니다.");
					}
					break;
				case 2:
					result = decideWinner(2);
					if (result == 0) {
						loseCount++;
						System.out.println("당신:바위    컴퓨터:보");
						System.out.println("졌습니다.");
					} else if (result == 1) {
						drawCount++;
						System.out.println("당신:바위    컴퓨터:바위");
						System.out.println("비겼습니다.");
					} else if (result == 2) {
						winCount++;
						System.out.println("당신:바위    컴퓨터:가위");
						System.out.println("이겼습니다.");
					}
					break;
				case 3:
					result = decideWinner(3);
					if (result == 0) {
						loseCount++;
						System.out.println("당신:보    컴퓨터:가위");
						System.out.println("졌습니다.");
					} else if (result == 1) {
						drawCount++;
						System.out.println("당신:보    컴퓨터:보");
						System.out.println("비겼습니다.");
					} else if (result == 2) {
						winCount++;
						System.out.println("당신:보    컴퓨터:바위");
						System.out.println("이겼습니다.");
					}
					break;
				case 0:
					System.out.println("누적 승률");
					System.out.printf("%d승 %d무 %d패%n", winCount, drawCount, loseCount);
					System.out.println("이용해주셔서 감사합니다");
					break;
				default:
					System.out.println("올바른 숫자를 입력하세요.");
			}
		} while (operationNumber != 0);
	}

	public static int getComputerNumber() {
		return (int) Math.ceil(Math.random()*3);
	}
	
	public static int decideWinner(int user) {
		int computer = getComputerNumber();
		
		if (user == 1) {
			if (computer == 2) {
				return 0;
			} else if (computer == 3) {
				return 2;
			}
		} else if (user == 2) {
			if (computer == 1) {
				return 2;
			} else if (computer == 3) {
				return 0;
			}
		} else if (user == 3) {
			if (computer == 1) {
				return 0;
			} else if (computer == 2) {
				return 2;
			}
		}
		
		return 1;
	}
}
